/*
Deployment script for WebsiteBatDongSan.Database

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "WebsiteBatDongSan.Database"
:setvar DefaultFilePrefix "WebsiteBatDongSan.Database"
:setvar DefaultDataPath "C:\Users\Administrator\AppData\Local\Microsoft\VisualStudio\SSDT\WebsiteBatDongSan\"
:setvar DefaultLogPath "C:\Users\Administrator\AppData\Local\Microsoft\VisualStudio\SSDT\WebsiteBatDongSan\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                CURSOR_DEFAULT LOCAL 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET PAGE_VERIFY NONE,
                DISABLE_BROKER 
            WITH ROLLBACK IMMEDIATE;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Creating [dbo].[cmsContent]...';


GO
CREATE TABLE [dbo].[cmsContent] (
    [pk]          INT IDENTITY (1, 1) NOT NULL,
    [nodeId]      INT NOT NULL,
    [contentType] INT NOT NULL,
    CONSTRAINT [PK_cmsContent] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsContent].[IX_cmsContent]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsContent]
    ON [dbo].[cmsContent]([nodeId] ASC);


GO
PRINT N'Creating [dbo].[cmsContentType]...';


GO
CREATE TABLE [dbo].[cmsContentType] (
    [pk]          INT             IDENTITY (1, 1) NOT NULL,
    [nodeId]      INT             NOT NULL,
    [alias]       NVARCHAR (255)  NULL,
    [icon]        NVARCHAR (255)  NULL,
    [thumbnail]   NVARCHAR (255)  NOT NULL,
    [description] NVARCHAR (1500) NULL,
    [isContainer] BIT             NOT NULL,
    [allowAtRoot] BIT             NOT NULL,
    CONSTRAINT [PK_cmsContentType] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsContentType].[IX_cmsContentType]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsContentType]
    ON [dbo].[cmsContentType]([nodeId] ASC);


GO
PRINT N'Creating [dbo].[cmsContentType].[IX_cmsContentType_icon]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsContentType_icon]
    ON [dbo].[cmsContentType]([icon] ASC);


GO
PRINT N'Creating [dbo].[cmsContentType2ContentType]...';


GO
CREATE TABLE [dbo].[cmsContentType2ContentType] (
    [parentContentTypeId] INT NOT NULL,
    [childContentTypeId]  INT NOT NULL,
    CONSTRAINT [PK_cmsContentType2ContentType] PRIMARY KEY CLUSTERED ([parentContentTypeId] ASC, [childContentTypeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsContentTypeAllowedContentType]...';


GO
CREATE TABLE [dbo].[cmsContentTypeAllowedContentType] (
    [Id]        INT NOT NULL,
    [AllowedId] INT NOT NULL,
    [SortOrder] INT NOT NULL,
    CONSTRAINT [PK_cmsContentTypeAllowedContentType] PRIMARY KEY CLUSTERED ([Id] ASC, [AllowedId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsContentVersion]...';


GO
CREATE TABLE [dbo].[cmsContentVersion] (
    [id]          INT              IDENTITY (1, 1) NOT NULL,
    [ContentId]   INT              NOT NULL,
    [VersionId]   UNIQUEIDENTIFIER NOT NULL,
    [VersionDate] DATETIME         NOT NULL,
    CONSTRAINT [PK_cmsContentVersion] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsContentVersion].[IX_cmsContentVersion_ContentId]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsContentVersion_ContentId]
    ON [dbo].[cmsContentVersion]([ContentId] ASC);


GO
PRINT N'Creating [dbo].[cmsContentVersion].[IX_cmsContentVersion_VersionId]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsContentVersion_VersionId]
    ON [dbo].[cmsContentVersion]([VersionId] ASC);


GO
PRINT N'Creating [dbo].[cmsContentXml]...';


GO
CREATE TABLE [dbo].[cmsContentXml] (
    [nodeId] INT   NOT NULL,
    [xml]    NTEXT NOT NULL,
    CONSTRAINT [PK_cmsContentXml] PRIMARY KEY CLUSTERED ([nodeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsDataType]...';


GO
CREATE TABLE [dbo].[cmsDataType] (
    [pk]                  INT            IDENTITY (1, 1) NOT NULL,
    [nodeId]              INT            NOT NULL,
    [propertyEditorAlias] NVARCHAR (255) NOT NULL,
    [dbType]              NVARCHAR (50)  NOT NULL,
    CONSTRAINT [PK_cmsDataType] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsDataType].[IX_cmsDataType_nodeId]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsDataType_nodeId]
    ON [dbo].[cmsDataType]([nodeId] ASC);


GO
PRINT N'Creating [dbo].[cmsDataTypePreValues]...';


GO
CREATE TABLE [dbo].[cmsDataTypePreValues] (
    [id]             INT           IDENTITY (1, 1) NOT NULL,
    [datatypeNodeId] INT           NOT NULL,
    [value]          NTEXT         NULL,
    [sortorder]      INT           NOT NULL,
    [alias]          NVARCHAR (50) NULL,
    CONSTRAINT [PK_cmsDataTypePreValues] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsDictionary]...';


GO
CREATE TABLE [dbo].[cmsDictionary] (
    [pk]     INT              IDENTITY (1, 1) NOT NULL,
    [id]     UNIQUEIDENTIFIER NOT NULL,
    [parent] UNIQUEIDENTIFIER NULL,
    [key]    NVARCHAR (1000)  NOT NULL,
    CONSTRAINT [PK_cmsDictionary] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsDictionary].[IX_cmsDictionary_id]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsDictionary_id]
    ON [dbo].[cmsDictionary]([id] ASC);


GO
PRINT N'Creating [dbo].[cmsDocument]...';


GO
CREATE TABLE [dbo].[cmsDocument] (
    [nodeId]       INT              NOT NULL,
    [published]    BIT              NOT NULL,
    [documentUser] INT              NOT NULL,
    [versionId]    UNIQUEIDENTIFIER NOT NULL,
    [text]         NVARCHAR (255)   NOT NULL,
    [releaseDate]  DATETIME         NULL,
    [expireDate]   DATETIME         NULL,
    [updateDate]   DATETIME         NOT NULL,
    [templateId]   INT              NULL,
    [newest]       BIT              NOT NULL,
    CONSTRAINT [PK_cmsDocument] PRIMARY KEY CLUSTERED ([versionId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsDocument].[IX_cmsDocument]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsDocument]
    ON [dbo].[cmsDocument]([nodeId] ASC, [versionId] ASC);


GO
PRINT N'Creating [dbo].[cmsDocument].[IX_cmsDocument_published]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsDocument_published]
    ON [dbo].[cmsDocument]([published] ASC);


GO
PRINT N'Creating [dbo].[cmsDocument].[IX_cmsDocument_newest]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsDocument_newest]
    ON [dbo].[cmsDocument]([newest] ASC);


GO
PRINT N'Creating [dbo].[cmsDocumentType]...';


GO
CREATE TABLE [dbo].[cmsDocumentType] (
    [contentTypeNodeId] INT NOT NULL,
    [templateNodeId]    INT NOT NULL,
    [IsDefault]         BIT NOT NULL,
    CONSTRAINT [PK_cmsDocumentType] PRIMARY KEY CLUSTERED ([contentTypeNodeId] ASC, [templateNodeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsLanguageText]...';


GO
CREATE TABLE [dbo].[cmsLanguageText] (
    [pk]         INT              IDENTITY (1, 1) NOT NULL,
    [languageId] INT              NOT NULL,
    [UniqueId]   UNIQUEIDENTIFIER NOT NULL,
    [value]      NVARCHAR (1000)  NOT NULL,
    CONSTRAINT [PK_cmsLanguageText] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsMacro]...';


GO
CREATE TABLE [dbo].[cmsMacro] (
    [id]                     INT            IDENTITY (1, 1) NOT NULL,
    [macroUseInEditor]       BIT            NOT NULL,
    [macroRefreshRate]       INT            NOT NULL,
    [macroAlias]             NVARCHAR (255) NOT NULL,
    [macroName]              NVARCHAR (255) NULL,
    [macroScriptType]        NVARCHAR (255) NULL,
    [macroScriptAssembly]    NVARCHAR (255) NULL,
    [macroXSLT]              NVARCHAR (255) NULL,
    [macroCacheByPage]       BIT            NOT NULL,
    [macroCachePersonalized] BIT            NOT NULL,
    [macroDontRender]        BIT            NOT NULL,
    [macroPython]            NVARCHAR (255) NULL,
    CONSTRAINT [PK_cmsMacro] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsMacro].[IX_cmsMacroPropertyAlias]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsMacroPropertyAlias]
    ON [dbo].[cmsMacro]([macroAlias] ASC);


GO
PRINT N'Creating [dbo].[cmsMacroProperty]...';


GO
CREATE TABLE [dbo].[cmsMacroProperty] (
    [id]                     INT            IDENTITY (1, 1) NOT NULL,
    [editorAlias]            NVARCHAR (255) NOT NULL,
    [macro]                  INT            NOT NULL,
    [macroPropertySortOrder] INT            NOT NULL,
    [macroPropertyAlias]     NVARCHAR (50)  NOT NULL,
    [macroPropertyName]      NVARCHAR (255) NOT NULL,
    CONSTRAINT [PK_cmsMacroProperty] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsMacroProperty].[IX_cmsMacroProperty_Alias]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsMacroProperty_Alias]
    ON [dbo].[cmsMacroProperty]([macro] ASC, [macroPropertyAlias] ASC);


GO
PRINT N'Creating [dbo].[cmsMember]...';


GO
CREATE TABLE [dbo].[cmsMember] (
    [nodeId]    INT             NOT NULL,
    [Email]     NVARCHAR (1000) NOT NULL,
    [LoginName] NVARCHAR (1000) NOT NULL,
    [Password]  NVARCHAR (1000) NOT NULL,
    CONSTRAINT [PK_cmsMember] PRIMARY KEY CLUSTERED ([nodeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsMember2MemberGroup]...';


GO
CREATE TABLE [dbo].[cmsMember2MemberGroup] (
    [Member]      INT NOT NULL,
    [MemberGroup] INT NOT NULL,
    CONSTRAINT [PK_cmsMember2MemberGroup] PRIMARY KEY CLUSTERED ([Member] ASC, [MemberGroup] ASC)
);


GO
PRINT N'Creating [dbo].[cmsMemberType]...';


GO
CREATE TABLE [dbo].[cmsMemberType] (
    [pk]             INT IDENTITY (1, 1) NOT NULL,
    [NodeId]         INT NOT NULL,
    [propertytypeId] INT NOT NULL,
    [memberCanEdit]  BIT NOT NULL,
    [viewOnProfile]  BIT NOT NULL,
    CONSTRAINT [PK_cmsMemberType] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsPreviewXml]...';


GO
CREATE TABLE [dbo].[cmsPreviewXml] (
    [nodeId]    INT              NOT NULL,
    [versionId] UNIQUEIDENTIFIER NOT NULL,
    [timestamp] DATETIME         NOT NULL,
    [xml]       NTEXT            NOT NULL,
    CONSTRAINT [PK_cmsContentPreviewXml] PRIMARY KEY CLUSTERED ([nodeId] ASC, [versionId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsPropertyData]...';


GO
CREATE TABLE [dbo].[cmsPropertyData] (
    [id]             INT              IDENTITY (1, 1) NOT NULL,
    [contentNodeId]  INT              NOT NULL,
    [versionId]      UNIQUEIDENTIFIER NULL,
    [propertytypeid] INT              NOT NULL,
    [dataInt]        INT              NULL,
    [dataDecimal]    DECIMAL (38, 6)  NULL,
    [dataDate]       DATETIME         NULL,
    [dataNvarchar]   NVARCHAR (500)   NULL,
    [dataNtext]      NTEXT            NULL,
    CONSTRAINT [PK_cmsPropertyData] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsPropertyData].[IX_cmsPropertyData]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsPropertyData]
    ON [dbo].[cmsPropertyData]([id] ASC);


GO
PRINT N'Creating [dbo].[cmsPropertyData].[IX_cmsPropertyData_1]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsPropertyData_1]
    ON [dbo].[cmsPropertyData]([contentNodeId] ASC);


GO
PRINT N'Creating [dbo].[cmsPropertyData].[IX_cmsPropertyData_2]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsPropertyData_2]
    ON [dbo].[cmsPropertyData]([versionId] ASC);


GO
PRINT N'Creating [dbo].[cmsPropertyData].[IX_cmsPropertyData_3]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsPropertyData_3]
    ON [dbo].[cmsPropertyData]([propertytypeid] ASC);


GO
PRINT N'Creating [dbo].[cmsPropertyType]...';


GO
CREATE TABLE [dbo].[cmsPropertyType] (
    [id]                  INT              IDENTITY (1, 1) NOT NULL,
    [dataTypeId]          INT              NOT NULL,
    [contentTypeId]       INT              NOT NULL,
    [propertyTypeGroupId] INT              NULL,
    [Alias]               NVARCHAR (255)   NOT NULL,
    [Name]                NVARCHAR (255)   NULL,
    [sortOrder]           INT              NOT NULL,
    [mandatory]           BIT              NOT NULL,
    [validationRegExp]    NVARCHAR (255)   NULL,
    [Description]         NVARCHAR (2000)  NULL,
    [UniqueID]            UNIQUEIDENTIFIER NOT NULL,
    CONSTRAINT [PK_cmsPropertyType] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsPropertyType].[IX_cmsPropertyTypeUniqueID]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsPropertyTypeUniqueID]
    ON [dbo].[cmsPropertyType]([UniqueID] ASC);


GO
PRINT N'Creating [dbo].[cmsPropertyTypeGroup]...';


GO
CREATE TABLE [dbo].[cmsPropertyTypeGroup] (
    [id]                INT              IDENTITY (1, 1) NOT NULL,
    [contenttypeNodeId] INT              NOT NULL,
    [text]              NVARCHAR (255)   NOT NULL,
    [sortorder]         INT              NOT NULL,
    [uniqueID]          UNIQUEIDENTIFIER NOT NULL,
    CONSTRAINT [PK_cmsPropertyTypeGroup] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsPropertyTypeGroup].[IX_cmsPropertyTypeGroupUniqueID]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsPropertyTypeGroupUniqueID]
    ON [dbo].[cmsPropertyTypeGroup]([uniqueID] ASC);


GO
PRINT N'Creating [dbo].[cmsStylesheet]...';


GO
CREATE TABLE [dbo].[cmsStylesheet] (
    [nodeId]   INT            NOT NULL,
    [filename] NVARCHAR (100) NOT NULL,
    [content]  NTEXT          NULL,
    CONSTRAINT [PK_cmsStylesheet] PRIMARY KEY CLUSTERED ([nodeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsStylesheetProperty]...';


GO
CREATE TABLE [dbo].[cmsStylesheetProperty] (
    [nodeId]                   INT            NOT NULL,
    [stylesheetPropertyEditor] BIT            NULL,
    [stylesheetPropertyAlias]  NVARCHAR (50)  NULL,
    [stylesheetPropertyValue]  NVARCHAR (400) NULL,
    CONSTRAINT [PK_cmsStylesheetProperty] PRIMARY KEY CLUSTERED ([nodeId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTagRelationship]...';


GO
CREATE TABLE [dbo].[cmsTagRelationship] (
    [nodeId]         INT NOT NULL,
    [tagId]          INT NOT NULL,
    [propertyTypeId] INT NOT NULL,
    CONSTRAINT [PK_cmsTagRelationship] PRIMARY KEY CLUSTERED ([nodeId] ASC, [propertyTypeId] ASC, [tagId] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTags]...';


GO
CREATE TABLE [dbo].[cmsTags] (
    [id]       INT            IDENTITY (1, 1) NOT NULL,
    [tag]      NVARCHAR (200) NULL,
    [ParentId] INT            NULL,
    [group]    NVARCHAR (100) NULL,
    CONSTRAINT [PK_cmsTags] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTags].[IX_cmsTags]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsTags]
    ON [dbo].[cmsTags]([tag] ASC, [group] ASC);


GO
PRINT N'Creating [dbo].[cmsTask]...';


GO
CREATE TABLE [dbo].[cmsTask] (
    [closed]       BIT            NOT NULL,
    [id]           INT            IDENTITY (1, 1) NOT NULL,
    [taskTypeId]   INT            NOT NULL,
    [nodeId]       INT            NOT NULL,
    [parentUserId] INT            NOT NULL,
    [userId]       INT            NOT NULL,
    [DateTime]     DATETIME       NOT NULL,
    [Comment]      NVARCHAR (500) NULL,
    CONSTRAINT [PK_cmsTask] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTaskType]...';


GO
CREATE TABLE [dbo].[cmsTaskType] (
    [id]    INT            IDENTITY (1, 1) NOT NULL,
    [alias] NVARCHAR (255) NOT NULL,
    CONSTRAINT [PK_cmsTaskType] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTaskType].[IX_cmsTaskType_alias]...';


GO
CREATE NONCLUSTERED INDEX [IX_cmsTaskType_alias]
    ON [dbo].[cmsTaskType]([alias] ASC);


GO
PRINT N'Creating [dbo].[cmsTemplate]...';


GO
CREATE TABLE [dbo].[cmsTemplate] (
    [pk]     INT            IDENTITY (1, 1) NOT NULL,
    [nodeId] INT            NOT NULL,
    [alias]  NVARCHAR (100) NULL,
    [design] NTEXT          NOT NULL,
    CONSTRAINT [PK_cmsTemplate] PRIMARY KEY CLUSTERED ([pk] ASC)
);


GO
PRINT N'Creating [dbo].[cmsTemplate].[IX_cmsTemplate_nodeId]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_cmsTemplate_nodeId]
    ON [dbo].[cmsTemplate]([nodeId] ASC);


GO
PRINT N'Creating [dbo].[umbracoAccess]...';


GO
CREATE TABLE [dbo].[umbracoAccess] (
    [id]             UNIQUEIDENTIFIER NOT NULL,
    [nodeId]         INT              NOT NULL,
    [loginNodeId]    INT              NOT NULL,
    [noAccessNodeId] INT              NOT NULL,
    [createDate]     DATETIME         NOT NULL,
    [updateDate]     DATETIME         NOT NULL,
    CONSTRAINT [PK_umbracoAccess] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoAccess].[IX_umbracoAccess_nodeId]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoAccess_nodeId]
    ON [dbo].[umbracoAccess]([nodeId] ASC);


GO
PRINT N'Creating [dbo].[umbracoAccessRule]...';


GO
CREATE TABLE [dbo].[umbracoAccessRule] (
    [id]         UNIQUEIDENTIFIER NOT NULL,
    [accessId]   UNIQUEIDENTIFIER NOT NULL,
    [ruleValue]  NVARCHAR (255)   NOT NULL,
    [ruleType]   NVARCHAR (255)   NOT NULL,
    [createDate] DATETIME         NOT NULL,
    [updateDate] DATETIME         NOT NULL,
    CONSTRAINT [PK_umbracoAccessRule] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoAccessRule].[IX_umbracoAccessRule]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoAccessRule]
    ON [dbo].[umbracoAccessRule]([ruleValue] ASC, [ruleType] ASC, [accessId] ASC);


GO
PRINT N'Creating [dbo].[umbracoCacheInstruction]...';


GO
CREATE TABLE [dbo].[umbracoCacheInstruction] (
    [id]              INT            IDENTITY (1, 1) NOT NULL,
    [utcStamp]        DATETIME       NOT NULL,
    [jsonInstruction] NTEXT          NOT NULL,
    [originated]      NVARCHAR (500) NOT NULL,
    CONSTRAINT [PK_umbracoCacheInstruction] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoDeployChecksum]...';


GO
CREATE TABLE [dbo].[umbracoDeployChecksum] (
    [id]                INT              IDENTITY (1, 1) NOT NULL,
    [entityType]        NVARCHAR (32)    NOT NULL,
    [entityGuid]        UNIQUEIDENTIFIER NULL,
    [entityPath]        NVARCHAR (256)   NULL,
    [localChecksum]     NVARCHAR (32)    NOT NULL,
    [compositeChecksum] NVARCHAR (32)    NULL,
    CONSTRAINT [PK_umbracoDeployChecksum] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoDeployChecksum].[IX_umbracoDeployChecksum]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoDeployChecksum]
    ON [dbo].[umbracoDeployChecksum]([entityType] ASC, [entityGuid] ASC, [entityPath] ASC);


GO
PRINT N'Creating [dbo].[umbracoDeployDependency]...';


GO
CREATE TABLE [dbo].[umbracoDeployDependency] (
    [sourceId] INT NOT NULL,
    [targetId] INT NOT NULL,
    [mode]     INT NOT NULL,
    CONSTRAINT [PK_umbracoDeployDependency] PRIMARY KEY CLUSTERED ([sourceId] ASC, [targetId] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoDomains]...';


GO
CREATE TABLE [dbo].[umbracoDomains] (
    [id]                    INT            IDENTITY (1, 1) NOT NULL,
    [domainDefaultLanguage] INT            NULL,
    [domainRootStructureID] INT            NULL,
    [domainName]            NVARCHAR (255) NOT NULL,
    CONSTRAINT [PK_umbracoDomains] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoExternalLogin]...';


GO
CREATE TABLE [dbo].[umbracoExternalLogin] (
    [id]            INT             IDENTITY (1, 1) NOT NULL,
    [userId]        INT             NOT NULL,
    [loginProvider] NVARCHAR (4000) NOT NULL,
    [providerKey]   NVARCHAR (4000) NOT NULL,
    [createDate]    DATETIME        NOT NULL,
    CONSTRAINT [PK_umbracoExternalLogin] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoLanguage]...';


GO
CREATE TABLE [dbo].[umbracoLanguage] (
    [id]                  INT            IDENTITY (1, 1) NOT NULL,
    [languageISOCode]     NVARCHAR (10)  NULL,
    [languageCultureName] NVARCHAR (100) NULL,
    CONSTRAINT [PK_umbracoLanguage] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoLanguage].[IX_umbracoLanguage_languageISOCode]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoLanguage_languageISOCode]
    ON [dbo].[umbracoLanguage]([languageISOCode] ASC);


GO
PRINT N'Creating [dbo].[umbracoLog]...';


GO
CREATE TABLE [dbo].[umbracoLog] (
    [id]         INT             IDENTITY (1, 1) NOT NULL,
    [userId]     INT             NOT NULL,
    [NodeId]     INT             NOT NULL,
    [Datestamp]  DATETIME        NOT NULL,
    [logHeader]  NVARCHAR (50)   NOT NULL,
    [logComment] NVARCHAR (4000) NULL,
    CONSTRAINT [PK_umbracoLog] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoLog].[IX_umbracoLog]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoLog]
    ON [dbo].[umbracoLog]([NodeId] ASC);


GO
PRINT N'Creating [dbo].[umbracoMigration]...';


GO
CREATE TABLE [dbo].[umbracoMigration] (
    [id]         INT            IDENTITY (1, 1) NOT NULL,
    [name]       NVARCHAR (255) NOT NULL,
    [createDate] DATETIME       NOT NULL,
    [version]    NVARCHAR (50)  NOT NULL,
    CONSTRAINT [PK_umbracoMigration] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoMigration].[IX_umbracoMigration]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoMigration]
    ON [dbo].[umbracoMigration]([name] ASC, [version] ASC);


GO
PRINT N'Creating [dbo].[umbracoNode]...';


GO
CREATE TABLE [dbo].[umbracoNode] (
    [id]             INT              IDENTITY (1, 1) NOT NULL,
    [trashed]        BIT              NOT NULL,
    [parentID]       INT              NOT NULL,
    [nodeUser]       INT              NULL,
    [level]          INT              NOT NULL,
    [path]           NVARCHAR (150)   NOT NULL,
    [sortOrder]      INT              NOT NULL,
    [uniqueID]       UNIQUEIDENTIFIER NOT NULL,
    [text]           NVARCHAR (255)   NULL,
    [nodeObjectType] UNIQUEIDENTIFIER NULL,
    [createDate]     DATETIME         NOT NULL,
    CONSTRAINT [PK_structure] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoNode].[IX_umbracoNodeTrashed]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoNodeTrashed]
    ON [dbo].[umbracoNode]([trashed] ASC);


GO
PRINT N'Creating [dbo].[umbracoNode].[IX_umbracoNodeParentId]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoNodeParentId]
    ON [dbo].[umbracoNode]([parentID] ASC);


GO
PRINT N'Creating [dbo].[umbracoNode].[IX_umbracoNodeUniqueID]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_umbracoNodeUniqueID]
    ON [dbo].[umbracoNode]([uniqueID] ASC);


GO
PRINT N'Creating [dbo].[umbracoNode].[IX_umbracoNodeObjectType]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoNodeObjectType]
    ON [dbo].[umbracoNode]([nodeObjectType] ASC);


GO
PRINT N'Creating [dbo].[umbracoRelation]...';


GO
CREATE TABLE [dbo].[umbracoRelation] (
    [id]       INT             IDENTITY (1, 1) NOT NULL,
    [parentId] INT             NOT NULL,
    [childId]  INT             NOT NULL,
    [relType]  INT             NOT NULL,
    [datetime] DATETIME        NOT NULL,
    [comment]  NVARCHAR (1000) NOT NULL,
    CONSTRAINT [PK_umbracoRelation] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoRelationType]...';


GO
CREATE TABLE [dbo].[umbracoRelationType] (
    [id]               INT              IDENTITY (1, 1) NOT NULL,
    [dual]             BIT              NOT NULL,
    [parentObjectType] UNIQUEIDENTIFIER NOT NULL,
    [childObjectType]  UNIQUEIDENTIFIER NOT NULL,
    [name]             NVARCHAR (255)   NOT NULL,
    [alias]            NVARCHAR (100)   NULL,
    CONSTRAINT [PK_umbracoRelationType] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoServer]...';


GO
CREATE TABLE [dbo].[umbracoServer] (
    [id]               INT            IDENTITY (1, 1) NOT NULL,
    [address]          NVARCHAR (500) NOT NULL,
    [computerName]     NVARCHAR (255) NOT NULL,
    [registeredDate]   DATETIME       NOT NULL,
    [lastNotifiedDate] DATETIME       NOT NULL,
    [isActive]         BIT            NOT NULL,
    [isMaster]         BIT            NOT NULL,
    CONSTRAINT [PK_umbracoServer] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoServer].[IX_computerName]...';


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_computerName]
    ON [dbo].[umbracoServer]([computerName] ASC);


GO
PRINT N'Creating [dbo].[umbracoServer].[IX_umbracoServer_isActive]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoServer_isActive]
    ON [dbo].[umbracoServer]([isActive] ASC);


GO
PRINT N'Creating [dbo].[umbracoUser]...';


GO
CREATE TABLE [dbo].[umbracoUser] (
    [id]                     INT            IDENTITY (1, 1) NOT NULL,
    [userDisabled]           BIT            NOT NULL,
    [userNoConsole]          BIT            NOT NULL,
    [userType]               INT            NOT NULL,
    [startStructureID]       INT            NOT NULL,
    [startMediaID]           INT            NULL,
    [userName]               NVARCHAR (255) NOT NULL,
    [userLogin]              NVARCHAR (125) NOT NULL,
    [userPassword]           NVARCHAR (500) NOT NULL,
    [userEmail]              NVARCHAR (255) NOT NULL,
    [userLanguage]           NVARCHAR (10)  NULL,
    [securityStampToken]     NVARCHAR (255) NULL,
    [failedLoginAttempts]    INT            NULL,
    [lastLockoutDate]        DATETIME       NULL,
    [lastPasswordChangeDate] DATETIME       NULL,
    [lastLoginDate]          DATETIME       NULL,
    CONSTRAINT [PK_user] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoUser].[IX_umbracoUser_userLogin]...';


GO
CREATE NONCLUSTERED INDEX [IX_umbracoUser_userLogin]
    ON [dbo].[umbracoUser]([userLogin] ASC);


GO
PRINT N'Creating [dbo].[umbracoUser2app]...';


GO
CREATE TABLE [dbo].[umbracoUser2app] (
    [user] INT           NOT NULL,
    [app]  NVARCHAR (50) NOT NULL,
    CONSTRAINT [PK_user2app] PRIMARY KEY CLUSTERED ([user] ASC, [app] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoUser2NodeNotify]...';


GO
CREATE TABLE [dbo].[umbracoUser2NodeNotify] (
    [userId] INT       NOT NULL,
    [nodeId] INT       NOT NULL,
    [action] NCHAR (1) NOT NULL,
    CONSTRAINT [PK_umbracoUser2NodeNotify] PRIMARY KEY CLUSTERED ([userId] ASC, [nodeId] ASC, [action] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoUser2NodePermission]...';


GO
CREATE TABLE [dbo].[umbracoUser2NodePermission] (
    [userId]     INT            NOT NULL,
    [nodeId]     INT            NOT NULL,
    [permission] NVARCHAR (255) NOT NULL,
    CONSTRAINT [PK_umbracoUser2NodePermission] PRIMARY KEY CLUSTERED ([userId] ASC, [nodeId] ASC, [permission] ASC)
);


GO
PRINT N'Creating [dbo].[umbracoUserType]...';


GO
CREATE TABLE [dbo].[umbracoUserType] (
    [id]                         INT            IDENTITY (1, 1) NOT NULL,
    [userTypeAlias]              NVARCHAR (50)  NULL,
    [userTypeName]               NVARCHAR (255) NOT NULL,
    [userTypeDefaultPermissions] NVARCHAR (50)  NULL,
    CONSTRAINT [PK_umbracoUserType] PRIMARY KEY CLUSTERED ([id] ASC)
);


GO
PRINT N'Creating DF_cmsContentType_thumbnail...';


GO
ALTER TABLE [dbo].[cmsContentType]
    ADD CONSTRAINT [DF_cmsContentType_thumbnail] DEFAULT ('folder.png') FOR [thumbnail];


GO
PRINT N'Creating DF_cmsContentType_isContainer...';


GO
ALTER TABLE [dbo].[cmsContentType]
    ADD CONSTRAINT [DF_cmsContentType_isContainer] DEFAULT ('0') FOR [isContainer];


GO
PRINT N'Creating DF_cmsContentType_allowAtRoot...';


GO
ALTER TABLE [dbo].[cmsContentType]
    ADD CONSTRAINT [DF_cmsContentType_allowAtRoot] DEFAULT ('0') FOR [allowAtRoot];


GO
PRINT N'Creating df_cmsContentTypeAllowedContentType_sortOrder...';


GO
ALTER TABLE [dbo].[cmsContentTypeAllowedContentType]
    ADD CONSTRAINT [df_cmsContentTypeAllowedContentType_sortOrder] DEFAULT ('0') FOR [SortOrder];


GO
PRINT N'Creating DF_cmsContentVersion_VersionDate...';


GO
ALTER TABLE [dbo].[cmsContentVersion]
    ADD CONSTRAINT [DF_cmsContentVersion_VersionDate] DEFAULT (getdate()) FOR [VersionDate];


GO
PRINT N'Creating DF_cmsDocument_updateDate...';


GO
ALTER TABLE [dbo].[cmsDocument]
    ADD CONSTRAINT [DF_cmsDocument_updateDate] DEFAULT (getdate()) FOR [updateDate];


GO
PRINT N'Creating DF_cmsDocument_newest...';


GO
ALTER TABLE [dbo].[cmsDocument]
    ADD CONSTRAINT [DF_cmsDocument_newest] DEFAULT ('0') FOR [newest];


GO
PRINT N'Creating DF_cmsDocumentType_IsDefault...';


GO
ALTER TABLE [dbo].[cmsDocumentType]
    ADD CONSTRAINT [DF_cmsDocumentType_IsDefault] DEFAULT ('0') FOR [IsDefault];


GO
PRINT N'Creating DF_cmsMacro_macroUseInEditor...';


GO
ALTER TABLE [dbo].[cmsMacro]
    ADD CONSTRAINT [DF_cmsMacro_macroUseInEditor] DEFAULT ('0') FOR [macroUseInEditor];


GO
PRINT N'Creating DF_cmsMacro_macroRefreshRate...';


GO
ALTER TABLE [dbo].[cmsMacro]
    ADD CONSTRAINT [DF_cmsMacro_macroRefreshRate] DEFAULT ('0') FOR [macroRefreshRate];


GO
PRINT N'Creating DF_cmsMacro_macroCacheByPage...';


GO
ALTER TABLE [dbo].[cmsMacro]
    ADD CONSTRAINT [DF_cmsMacro_macroCacheByPage] DEFAULT ('1') FOR [macroCacheByPage];


GO
PRINT N'Creating DF_cmsMacro_macroCachePersonalized...';


GO
ALTER TABLE [dbo].[cmsMacro]
    ADD CONSTRAINT [DF_cmsMacro_macroCachePersonalized] DEFAULT ('0') FOR [macroCachePersonalized];


GO
PRINT N'Creating DF_cmsMacro_macroDontRender...';


GO
ALTER TABLE [dbo].[cmsMacro]
    ADD CONSTRAINT [DF_cmsMacro_macroDontRender] DEFAULT ('0') FOR [macroDontRender];


GO
PRINT N'Creating DF_cmsMacroProperty_macroPropertySortOrder...';


GO
ALTER TABLE [dbo].[cmsMacroProperty]
    ADD CONSTRAINT [DF_cmsMacroProperty_macroPropertySortOrder] DEFAULT ('0') FOR [macroPropertySortOrder];


GO
PRINT N'Creating DF_cmsMember_Email...';


GO
ALTER TABLE [dbo].[cmsMember]
    ADD CONSTRAINT [DF_cmsMember_Email] DEFAULT ('''') FOR [Email];


GO
PRINT N'Creating DF_cmsMember_LoginName...';


GO
ALTER TABLE [dbo].[cmsMember]
    ADD CONSTRAINT [DF_cmsMember_LoginName] DEFAULT ('''') FOR [LoginName];


GO
PRINT N'Creating DF_cmsMember_Password...';


GO
ALTER TABLE [dbo].[cmsMember]
    ADD CONSTRAINT [DF_cmsMember_Password] DEFAULT ('''') FOR [Password];


GO
PRINT N'Creating DF_cmsMemberType_memberCanEdit...';


GO
ALTER TABLE [dbo].[cmsMemberType]
    ADD CONSTRAINT [DF_cmsMemberType_memberCanEdit] DEFAULT ('0') FOR [memberCanEdit];


GO
PRINT N'Creating DF_cmsMemberType_viewOnProfile...';


GO
ALTER TABLE [dbo].[cmsMemberType]
    ADD CONSTRAINT [DF_cmsMemberType_viewOnProfile] DEFAULT ('0') FOR [viewOnProfile];


GO
PRINT N'Creating DF_cmsPropertyType_sortOrder...';


GO
ALTER TABLE [dbo].[cmsPropertyType]
    ADD CONSTRAINT [DF_cmsPropertyType_sortOrder] DEFAULT ('0') FOR [sortOrder];


GO
PRINT N'Creating DF_cmsPropertyType_mandatory...';


GO
ALTER TABLE [dbo].[cmsPropertyType]
    ADD CONSTRAINT [DF_cmsPropertyType_mandatory] DEFAULT ('0') FOR [mandatory];


GO
PRINT N'Creating DF_cmsPropertyType_UniqueID...';


GO
ALTER TABLE [dbo].[cmsPropertyType]
    ADD CONSTRAINT [DF_cmsPropertyType_UniqueID] DEFAULT (newid()) FOR [UniqueID];


GO
PRINT N'Creating DF_cmsPropertyTypeGroup_uniqueID...';


GO
ALTER TABLE [dbo].[cmsPropertyTypeGroup]
    ADD CONSTRAINT [DF_cmsPropertyTypeGroup_uniqueID] DEFAULT (newid()) FOR [uniqueID];


GO
PRINT N'Creating DF_cmsTask_closed...';


GO
ALTER TABLE [dbo].[cmsTask]
    ADD CONSTRAINT [DF_cmsTask_closed] DEFAULT ('0') FOR [closed];


GO
PRINT N'Creating DF_cmsTask_DateTime...';


GO
ALTER TABLE [dbo].[cmsTask]
    ADD CONSTRAINT [DF_cmsTask_DateTime] DEFAULT (getdate()) FOR [DateTime];


GO
PRINT N'Creating DF_umbracoAccess_createDate...';


GO
ALTER TABLE [dbo].[umbracoAccess]
    ADD CONSTRAINT [DF_umbracoAccess_createDate] DEFAULT (getdate()) FOR [createDate];


GO
PRINT N'Creating DF_umbracoAccess_updateDate...';


GO
ALTER TABLE [dbo].[umbracoAccess]
    ADD CONSTRAINT [DF_umbracoAccess_updateDate] DEFAULT (getdate()) FOR [updateDate];


GO
PRINT N'Creating DF_umbracoAccessRule_createDate...';


GO
ALTER TABLE [dbo].[umbracoAccessRule]
    ADD CONSTRAINT [DF_umbracoAccessRule_createDate] DEFAULT (getdate()) FOR [createDate];


GO
PRINT N'Creating DF_umbracoAccessRule_updateDate...';


GO
ALTER TABLE [dbo].[umbracoAccessRule]
    ADD CONSTRAINT [DF_umbracoAccessRule_updateDate] DEFAULT (getdate()) FOR [updateDate];


GO
PRINT N'Creating DF_umbracoExternalLogin_createDate...';


GO
ALTER TABLE [dbo].[umbracoExternalLogin]
    ADD CONSTRAINT [DF_umbracoExternalLogin_createDate] DEFAULT (getdate()) FOR [createDate];


GO
PRINT N'Creating DF_umbracoLog_Datestamp...';


GO
ALTER TABLE [dbo].[umbracoLog]
    ADD CONSTRAINT [DF_umbracoLog_Datestamp] DEFAULT (getdate()) FOR [Datestamp];


GO
PRINT N'Creating DF_umbracoMigration_createDate...';


GO
ALTER TABLE [dbo].[umbracoMigration]
    ADD CONSTRAINT [DF_umbracoMigration_createDate] DEFAULT (getdate()) FOR [createDate];


GO
PRINT N'Creating DF_umbracoNode_trashed...';


GO
ALTER TABLE [dbo].[umbracoNode]
    ADD CONSTRAINT [DF_umbracoNode_trashed] DEFAULT ('0') FOR [trashed];


GO
PRINT N'Creating DF_umbracoNode_uniqueID...';


GO
ALTER TABLE [dbo].[umbracoNode]
    ADD CONSTRAINT [DF_umbracoNode_uniqueID] DEFAULT (newid()) FOR [uniqueID];


GO
PRINT N'Creating DF_umbracoNode_createDate...';


GO
ALTER TABLE [dbo].[umbracoNode]
    ADD CONSTRAINT [DF_umbracoNode_createDate] DEFAULT (getdate()) FOR [createDate];


GO
PRINT N'Creating DF_umbracoRelation_datetime...';


GO
ALTER TABLE [dbo].[umbracoRelation]
    ADD CONSTRAINT [DF_umbracoRelation_datetime] DEFAULT (getdate()) FOR [datetime];


GO
PRINT N'Creating DF_umbracoServer_registeredDate...';


GO
ALTER TABLE [dbo].[umbracoServer]
    ADD CONSTRAINT [DF_umbracoServer_registeredDate] DEFAULT (getdate()) FOR [registeredDate];


GO
PRINT N'Creating DF_umbracoUser_userDisabled...';


GO
ALTER TABLE [dbo].[umbracoUser]
    ADD CONSTRAINT [DF_umbracoUser_userDisabled] DEFAULT ('0') FOR [userDisabled];


GO
PRINT N'Creating DF_umbracoUser_userNoConsole...';


GO
ALTER TABLE [dbo].[umbracoUser]
    ADD CONSTRAINT [DF_umbracoUser_userNoConsole] DEFAULT ('0') FOR [userNoConsole];


GO
PRINT N'Creating FK_cmsContent_cmsContentType_nodeId...';


GO
ALTER TABLE [dbo].[cmsContent] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContent_cmsContentType_nodeId] FOREIGN KEY ([contentType]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsContent_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsContent] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContent_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsContentType_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsContentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentType_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsContentType2ContentType_umbracoNode_child...';


GO
ALTER TABLE [dbo].[cmsContentType2ContentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentType2ContentType_umbracoNode_child] FOREIGN KEY ([childContentTypeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsContentType2ContentType_umbracoNode_parent...';


GO
ALTER TABLE [dbo].[cmsContentType2ContentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentType2ContentType_umbracoNode_parent] FOREIGN KEY ([parentContentTypeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsContentTypeAllowedContentType_cmsContentType...';


GO
ALTER TABLE [dbo].[cmsContentTypeAllowedContentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentTypeAllowedContentType_cmsContentType] FOREIGN KEY ([Id]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsContentTypeAllowedContentType_cmsContentType1...';


GO
ALTER TABLE [dbo].[cmsContentTypeAllowedContentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentTypeAllowedContentType_cmsContentType1] FOREIGN KEY ([AllowedId]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsContentVersion_cmsContent_nodeId...';


GO
ALTER TABLE [dbo].[cmsContentVersion] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentVersion_cmsContent_nodeId] FOREIGN KEY ([ContentId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsContentXml_cmsContent_nodeId...';


GO
ALTER TABLE [dbo].[cmsContentXml] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsContentXml_cmsContent_nodeId] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsDataType_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsDataType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDataType_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsDataTypePreValues_cmsDataType_nodeId...';


GO
ALTER TABLE [dbo].[cmsDataTypePreValues] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDataTypePreValues_cmsDataType_nodeId] FOREIGN KEY ([datatypeNodeId]) REFERENCES [dbo].[cmsDataType] ([nodeId]);


GO
PRINT N'Creating FK_cmsDictionary_cmsDictionary_id...';


GO
ALTER TABLE [dbo].[cmsDictionary] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDictionary_cmsDictionary_id] FOREIGN KEY ([parent]) REFERENCES [dbo].[cmsDictionary] ([id]);


GO
PRINT N'Creating FK_cmsDocument_cmsContent_nodeId...';


GO
ALTER TABLE [dbo].[cmsDocument] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocument_cmsContent_nodeId] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsDocument_cmsTemplate_nodeId...';


GO
ALTER TABLE [dbo].[cmsDocument] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocument_cmsTemplate_nodeId] FOREIGN KEY ([templateId]) REFERENCES [dbo].[cmsTemplate] ([nodeId]);


GO
PRINT N'Creating FK_cmsDocument_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsDocument] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocument_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsDocumentType_cmsContentType_nodeId...';


GO
ALTER TABLE [dbo].[cmsDocumentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocumentType_cmsContentType_nodeId] FOREIGN KEY ([contentTypeNodeId]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsDocumentType_cmsTemplate_nodeId...';


GO
ALTER TABLE [dbo].[cmsDocumentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocumentType_cmsTemplate_nodeId] FOREIGN KEY ([templateNodeId]) REFERENCES [dbo].[cmsTemplate] ([nodeId]);


GO
PRINT N'Creating FK_cmsDocumentType_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsDocumentType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsDocumentType_umbracoNode_id] FOREIGN KEY ([contentTypeNodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsLanguageText_cmsDictionary_id...';


GO
ALTER TABLE [dbo].[cmsLanguageText] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsLanguageText_cmsDictionary_id] FOREIGN KEY ([UniqueId]) REFERENCES [dbo].[cmsDictionary] ([id]);


GO
PRINT N'Creating FK_cmsLanguageText_umbracoLanguage_id...';


GO
ALTER TABLE [dbo].[cmsLanguageText] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsLanguageText_umbracoLanguage_id] FOREIGN KEY ([languageId]) REFERENCES [dbo].[umbracoLanguage] ([id]);


GO
PRINT N'Creating FK_cmsMacroProperty_cmsMacro_id...';


GO
ALTER TABLE [dbo].[cmsMacroProperty] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMacroProperty_cmsMacro_id] FOREIGN KEY ([macro]) REFERENCES [dbo].[cmsMacro] ([id]);


GO
PRINT N'Creating FK_cmsMember_cmsContent_nodeId...';


GO
ALTER TABLE [dbo].[cmsMember] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMember_cmsContent_nodeId] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsMember_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsMember] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMember_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsMember2MemberGroup_cmsMember_nodeId...';


GO
ALTER TABLE [dbo].[cmsMember2MemberGroup] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMember2MemberGroup_cmsMember_nodeId] FOREIGN KEY ([Member]) REFERENCES [dbo].[cmsMember] ([nodeId]);


GO
PRINT N'Creating FK_cmsMember2MemberGroup_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsMember2MemberGroup] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMember2MemberGroup_umbracoNode_id] FOREIGN KEY ([MemberGroup]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsMemberType_cmsContentType_nodeId...';


GO
ALTER TABLE [dbo].[cmsMemberType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMemberType_cmsContentType_nodeId] FOREIGN KEY ([NodeId]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsMemberType_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsMemberType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsMemberType_umbracoNode_id] FOREIGN KEY ([NodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsPreviewXml_cmsContent_nodeId...';


GO
ALTER TABLE [dbo].[cmsPreviewXml] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPreviewXml_cmsContent_nodeId] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsPreviewXml_cmsContentVersion_VersionId...';


GO
ALTER TABLE [dbo].[cmsPreviewXml] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPreviewXml_cmsContentVersion_VersionId] FOREIGN KEY ([versionId]) REFERENCES [dbo].[cmsContentVersion] ([VersionId]);


GO
PRINT N'Creating FK_cmsPropertyData_cmsPropertyType_id...';


GO
ALTER TABLE [dbo].[cmsPropertyData] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyData_cmsPropertyType_id] FOREIGN KEY ([propertytypeid]) REFERENCES [dbo].[cmsPropertyType] ([id]);


GO
PRINT N'Creating FK_cmsPropertyData_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsPropertyData] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyData_umbracoNode_id] FOREIGN KEY ([contentNodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsPropertyType_cmsContentType_nodeId...';


GO
ALTER TABLE [dbo].[cmsPropertyType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyType_cmsContentType_nodeId] FOREIGN KEY ([contentTypeId]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsPropertyType_cmsDataType_nodeId...';


GO
ALTER TABLE [dbo].[cmsPropertyType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyType_cmsDataType_nodeId] FOREIGN KEY ([dataTypeId]) REFERENCES [dbo].[cmsDataType] ([nodeId]);


GO
PRINT N'Creating FK_cmsPropertyType_cmsPropertyTypeGroup_id...';


GO
ALTER TABLE [dbo].[cmsPropertyType] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyType_cmsPropertyTypeGroup_id] FOREIGN KEY ([propertyTypeGroupId]) REFERENCES [dbo].[cmsPropertyTypeGroup] ([id]);


GO
PRINT N'Creating FK_cmsPropertyTypeGroup_cmsContentType_nodeId...';


GO
ALTER TABLE [dbo].[cmsPropertyTypeGroup] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsPropertyTypeGroup_cmsContentType_nodeId] FOREIGN KEY ([contenttypeNodeId]) REFERENCES [dbo].[cmsContentType] ([nodeId]);


GO
PRINT N'Creating FK_cmsStylesheet_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsStylesheet] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsStylesheet_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsTagRelationship_cmsContent...';


GO
ALTER TABLE [dbo].[cmsTagRelationship] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTagRelationship_cmsContent] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[cmsContent] ([nodeId]);


GO
PRINT N'Creating FK_cmsTagRelationship_cmsPropertyType...';


GO
ALTER TABLE [dbo].[cmsTagRelationship] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTagRelationship_cmsPropertyType] FOREIGN KEY ([propertyTypeId]) REFERENCES [dbo].[cmsPropertyType] ([id]);


GO
PRINT N'Creating FK_cmsTagRelationship_cmsTags_id...';


GO
ALTER TABLE [dbo].[cmsTagRelationship] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTagRelationship_cmsTags_id] FOREIGN KEY ([tagId]) REFERENCES [dbo].[cmsTags] ([id]);


GO
PRINT N'Creating FK_cmsTags_cmsTags...';


GO
ALTER TABLE [dbo].[cmsTags] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTags_cmsTags] FOREIGN KEY ([ParentId]) REFERENCES [dbo].[cmsTags] ([id]);


GO
PRINT N'Creating FK_cmsTask_cmsTaskType_id...';


GO
ALTER TABLE [dbo].[cmsTask] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTask_cmsTaskType_id] FOREIGN KEY ([taskTypeId]) REFERENCES [dbo].[cmsTaskType] ([id]);


GO
PRINT N'Creating FK_cmsTask_umbracoNode_id...';


GO
ALTER TABLE [dbo].[cmsTask] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTask_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_cmsTask_umbracoUser...';


GO
ALTER TABLE [dbo].[cmsTask] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTask_umbracoUser] FOREIGN KEY ([parentUserId]) REFERENCES [dbo].[umbracoUser] ([id]);


GO
PRINT N'Creating FK_cmsTask_umbracoUser1...';


GO
ALTER TABLE [dbo].[cmsTask] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTask_umbracoUser1] FOREIGN KEY ([userId]) REFERENCES [dbo].[umbracoUser] ([id]);


GO
PRINT N'Creating FK_cmsTemplate_umbracoNode...';


GO
ALTER TABLE [dbo].[cmsTemplate] WITH NOCHECK
    ADD CONSTRAINT [FK_cmsTemplate_umbracoNode] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoAccess_umbracoNode_id...';


GO
ALTER TABLE [dbo].[umbracoAccess] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoAccess_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoAccess_umbracoNode_id1...';


GO
ALTER TABLE [dbo].[umbracoAccess] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoAccess_umbracoNode_id1] FOREIGN KEY ([loginNodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoAccess_umbracoNode_id2...';


GO
ALTER TABLE [dbo].[umbracoAccess] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoAccess_umbracoNode_id2] FOREIGN KEY ([noAccessNodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoAccessRule_umbracoAccess_id...';


GO
ALTER TABLE [dbo].[umbracoAccessRule] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoAccessRule_umbracoAccess_id] FOREIGN KEY ([accessId]) REFERENCES [dbo].[umbracoAccess] ([id]);


GO
PRINT N'Creating FK_umbracoDeployDependency_umbracoDeployChecksum_id1...';


GO
ALTER TABLE [dbo].[umbracoDeployDependency] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoDeployDependency_umbracoDeployChecksum_id1] FOREIGN KEY ([sourceId]) REFERENCES [dbo].[umbracoDeployChecksum] ([id]);


GO
PRINT N'Creating FK_umbracoDeployDependency_umbracoDeployChecksum_id2...';


GO
ALTER TABLE [dbo].[umbracoDeployDependency] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoDeployDependency_umbracoDeployChecksum_id2] FOREIGN KEY ([targetId]) REFERENCES [dbo].[umbracoDeployChecksum] ([id]);


GO
PRINT N'Creating FK_umbracoDomains_umbracoNode_id...';


GO
ALTER TABLE [dbo].[umbracoDomains] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoDomains_umbracoNode_id] FOREIGN KEY ([domainRootStructureID]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoNode_umbracoNode_id...';


GO
ALTER TABLE [dbo].[umbracoNode] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoNode_umbracoNode_id] FOREIGN KEY ([parentID]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoRelation_umbracoNode...';


GO
ALTER TABLE [dbo].[umbracoRelation] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoRelation_umbracoNode] FOREIGN KEY ([parentId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoRelation_umbracoNode1...';


GO
ALTER TABLE [dbo].[umbracoRelation] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoRelation_umbracoNode1] FOREIGN KEY ([childId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoRelation_umbracoRelationType_id...';


GO
ALTER TABLE [dbo].[umbracoRelation] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoRelation_umbracoRelationType_id] FOREIGN KEY ([relType]) REFERENCES [dbo].[umbracoRelationType] ([id]);


GO
PRINT N'Creating FK_umbracoUser_umbracoUserType_id...';


GO
ALTER TABLE [dbo].[umbracoUser] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser_umbracoUserType_id] FOREIGN KEY ([userType]) REFERENCES [dbo].[umbracoUserType] ([id]);


GO
PRINT N'Creating FK_umbracoUser2app_umbracoUser_id...';


GO
ALTER TABLE [dbo].[umbracoUser2app] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser2app_umbracoUser_id] FOREIGN KEY ([user]) REFERENCES [dbo].[umbracoUser] ([id]);


GO
PRINT N'Creating FK_umbracoUser2NodeNotify_umbracoNode_id...';


GO
ALTER TABLE [dbo].[umbracoUser2NodeNotify] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser2NodeNotify_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoUser2NodeNotify_umbracoUser_id...';


GO
ALTER TABLE [dbo].[umbracoUser2NodeNotify] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser2NodeNotify_umbracoUser_id] FOREIGN KEY ([userId]) REFERENCES [dbo].[umbracoUser] ([id]);


GO
PRINT N'Creating FK_umbracoUser2NodePermission_umbracoNode_id...';


GO
ALTER TABLE [dbo].[umbracoUser2NodePermission] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser2NodePermission_umbracoNode_id] FOREIGN KEY ([nodeId]) REFERENCES [dbo].[umbracoNode] ([id]);


GO
PRINT N'Creating FK_umbracoUser2NodePermission_umbracoUser_id...';


GO
ALTER TABLE [dbo].[umbracoUser2NodePermission] WITH NOCHECK
    ADD CONSTRAINT [FK_umbracoUser2NodePermission_umbracoUser_id] FOREIGN KEY ([userId]) REFERENCES [dbo].[umbracoUser] ([id]);


GO
PRINT N'Checking existing data against newly created constraints';


GO
USE [$(DatabaseName)];


GO
ALTER TABLE [dbo].[cmsContent] WITH CHECK CHECK CONSTRAINT [FK_cmsContent_cmsContentType_nodeId];

ALTER TABLE [dbo].[cmsContent] WITH CHECK CHECK CONSTRAINT [FK_cmsContent_umbracoNode_id];

ALTER TABLE [dbo].[cmsContentType] WITH CHECK CHECK CONSTRAINT [FK_cmsContentType_umbracoNode_id];

ALTER TABLE [dbo].[cmsContentType2ContentType] WITH CHECK CHECK CONSTRAINT [FK_cmsContentType2ContentType_umbracoNode_child];

ALTER TABLE [dbo].[cmsContentType2ContentType] WITH CHECK CHECK CONSTRAINT [FK_cmsContentType2ContentType_umbracoNode_parent];

ALTER TABLE [dbo].[cmsContentTypeAllowedContentType] WITH CHECK CHECK CONSTRAINT [FK_cmsContentTypeAllowedContentType_cmsContentType];

ALTER TABLE [dbo].[cmsContentTypeAllowedContentType] WITH CHECK CHECK CONSTRAINT [FK_cmsContentTypeAllowedContentType_cmsContentType1];

ALTER TABLE [dbo].[cmsContentVersion] WITH CHECK CHECK CONSTRAINT [FK_cmsContentVersion_cmsContent_nodeId];

ALTER TABLE [dbo].[cmsContentXml] WITH CHECK CHECK CONSTRAINT [FK_cmsContentXml_cmsContent_nodeId];

ALTER TABLE [dbo].[cmsDataType] WITH CHECK CHECK CONSTRAINT [FK_cmsDataType_umbracoNode_id];

ALTER TABLE [dbo].[cmsDataTypePreValues] WITH CHECK CHECK CONSTRAINT [FK_cmsDataTypePreValues_cmsDataType_nodeId];

ALTER TABLE [dbo].[cmsDictionary] WITH CHECK CHECK CONSTRAINT [FK_cmsDictionary_cmsDictionary_id];

ALTER TABLE [dbo].[cmsDocument] WITH CHECK CHECK CONSTRAINT [FK_cmsDocument_cmsContent_nodeId];

ALTER TABLE [dbo].[cmsDocument] WITH CHECK CHECK CONSTRAINT [FK_cmsDocument_cmsTemplate_nodeId];

ALTER TABLE [dbo].[cmsDocument] WITH CHECK CHECK CONSTRAINT [FK_cmsDocument_umbracoNode_id];

ALTER TABLE [dbo].[cmsDocumentType] WITH CHECK CHECK CONSTRAINT [FK_cmsDocumentType_cmsContentType_nodeId];

ALTER TABLE [dbo].[cmsDocumentType] WITH CHECK CHECK CONSTRAINT [FK_cmsDocumentType_cmsTemplate_nodeId];

ALTER TABLE [dbo].[cmsDocumentType] WITH CHECK CHECK CONSTRAINT [FK_cmsDocumentType_umbracoNode_id];

ALTER TABLE [dbo].[cmsLanguageText] WITH CHECK CHECK CONSTRAINT [FK_cmsLanguageText_cmsDictionary_id];

ALTER TABLE [dbo].[cmsLanguageText] WITH CHECK CHECK CONSTRAINT [FK_cmsLanguageText_umbracoLanguage_id];

ALTER TABLE [dbo].[cmsMacroProperty] WITH CHECK CHECK CONSTRAINT [FK_cmsMacroProperty_cmsMacro_id];

ALTER TABLE [dbo].[cmsMember] WITH CHECK CHECK CONSTRAINT [FK_cmsMember_cmsContent_nodeId];

ALTER TABLE [dbo].[cmsMember] WITH CHECK CHECK CONSTRAINT [FK_cmsMember_umbracoNode_id];

ALTER TABLE [dbo].[cmsMember2MemberGroup] WITH CHECK CHECK CONSTRAINT [FK_cmsMember2MemberGroup_cmsMember_nodeId];

ALTER TABLE [dbo].[cmsMember2MemberGroup] WITH CHECK CHECK CONSTRAINT [FK_cmsMember2MemberGroup_umbracoNode_id];

ALTER TABLE [dbo].[cmsMemberType] WITH CHECK CHECK CONSTRAINT [FK_cmsMemberType_cmsContentType_nodeId];

ALTER TABLE [dbo].[cmsMemberType] WITH CHECK CHECK CONSTRAINT [FK_cmsMemberType_umbracoNode_id];

ALTER TABLE [dbo].[cmsPreviewXml] WITH CHECK CHECK CONSTRAINT [FK_cmsPreviewXml_cmsContent_nodeId];

ALTER TABLE [dbo].[cmsPreviewXml] WITH CHECK CHECK CONSTRAINT [FK_cmsPreviewXml_cmsContentVersion_VersionId];

ALTER TABLE [dbo].[cmsPropertyData] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyData_cmsPropertyType_id];

ALTER TABLE [dbo].[cmsPropertyData] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyData_umbracoNode_id];

ALTER TABLE [dbo].[cmsPropertyType] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyType_cmsContentType_nodeId];

ALTER TABLE [dbo].[cmsPropertyType] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyType_cmsDataType_nodeId];

ALTER TABLE [dbo].[cmsPropertyType] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyType_cmsPropertyTypeGroup_id];

ALTER TABLE [dbo].[cmsPropertyTypeGroup] WITH CHECK CHECK CONSTRAINT [FK_cmsPropertyTypeGroup_cmsContentType_nodeId];

ALTER TABLE [dbo].[cmsStylesheet] WITH CHECK CHECK CONSTRAINT [FK_cmsStylesheet_umbracoNode_id];

ALTER TABLE [dbo].[cmsTagRelationship] WITH CHECK CHECK CONSTRAINT [FK_cmsTagRelationship_cmsContent];

ALTER TABLE [dbo].[cmsTagRelationship] WITH CHECK CHECK CONSTRAINT [FK_cmsTagRelationship_cmsPropertyType];

ALTER TABLE [dbo].[cmsTagRelationship] WITH CHECK CHECK CONSTRAINT [FK_cmsTagRelationship_cmsTags_id];

ALTER TABLE [dbo].[cmsTags] WITH CHECK CHECK CONSTRAINT [FK_cmsTags_cmsTags];

ALTER TABLE [dbo].[cmsTask] WITH CHECK CHECK CONSTRAINT [FK_cmsTask_cmsTaskType_id];

ALTER TABLE [dbo].[cmsTask] WITH CHECK CHECK CONSTRAINT [FK_cmsTask_umbracoNode_id];

ALTER TABLE [dbo].[cmsTask] WITH CHECK CHECK CONSTRAINT [FK_cmsTask_umbracoUser];

ALTER TABLE [dbo].[cmsTask] WITH CHECK CHECK CONSTRAINT [FK_cmsTask_umbracoUser1];

ALTER TABLE [dbo].[cmsTemplate] WITH CHECK CHECK CONSTRAINT [FK_cmsTemplate_umbracoNode];

ALTER TABLE [dbo].[umbracoAccess] WITH CHECK CHECK CONSTRAINT [FK_umbracoAccess_umbracoNode_id];

ALTER TABLE [dbo].[umbracoAccess] WITH CHECK CHECK CONSTRAINT [FK_umbracoAccess_umbracoNode_id1];

ALTER TABLE [dbo].[umbracoAccess] WITH CHECK CHECK CONSTRAINT [FK_umbracoAccess_umbracoNode_id2];

ALTER TABLE [dbo].[umbracoAccessRule] WITH CHECK CHECK CONSTRAINT [FK_umbracoAccessRule_umbracoAccess_id];

ALTER TABLE [dbo].[umbracoDeployDependency] WITH CHECK CHECK CONSTRAINT [FK_umbracoDeployDependency_umbracoDeployChecksum_id1];

ALTER TABLE [dbo].[umbracoDeployDependency] WITH CHECK CHECK CONSTRAINT [FK_umbracoDeployDependency_umbracoDeployChecksum_id2];

ALTER TABLE [dbo].[umbracoDomains] WITH CHECK CHECK CONSTRAINT [FK_umbracoDomains_umbracoNode_id];

ALTER TABLE [dbo].[umbracoNode] WITH CHECK CHECK CONSTRAINT [FK_umbracoNode_umbracoNode_id];

ALTER TABLE [dbo].[umbracoRelation] WITH CHECK CHECK CONSTRAINT [FK_umbracoRelation_umbracoNode];

ALTER TABLE [dbo].[umbracoRelation] WITH CHECK CHECK CONSTRAINT [FK_umbracoRelation_umbracoNode1];

ALTER TABLE [dbo].[umbracoRelation] WITH CHECK CHECK CONSTRAINT [FK_umbracoRelation_umbracoRelationType_id];

ALTER TABLE [dbo].[umbracoUser] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser_umbracoUserType_id];

ALTER TABLE [dbo].[umbracoUser2app] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser2app_umbracoUser_id];

ALTER TABLE [dbo].[umbracoUser2NodeNotify] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser2NodeNotify_umbracoNode_id];

ALTER TABLE [dbo].[umbracoUser2NodeNotify] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser2NodeNotify_umbracoUser_id];

ALTER TABLE [dbo].[umbracoUser2NodePermission] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser2NodePermission_umbracoNode_id];

ALTER TABLE [dbo].[umbracoUser2NodePermission] WITH CHECK CHECK CONSTRAINT [FK_umbracoUser2NodePermission_umbracoUser_id];


GO
PRINT N'Update complete.';


GO
